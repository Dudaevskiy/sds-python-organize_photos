# sds-python-organize_photos

# Google Photos Media Organizer

Python скрипт для організації медіа файлів (фото та відео) за датою створення. Особливо корисний для сортування експортованих даних з Google Photos, але також може працювати з будь-якими медіа файлами.

## Можливості

- Сортування фото та відео за датою створення
- Підтримка JSON метаданих з Google Photos
- Читання EXIF даних з фотографій
- Читання метаданих з відео файлів
- Створення структури папок виду: `рік/рік-місяць-день/файл`
- Обробка файлів без JSON метаданих
- Детальне логування процесу сортування
- Пропуск вже відсортованих файлів при повторному запуску

## Підтримувані формати

### Фото формати
- JPG/JPEG
- PNG
- GIF
- BMP
- TIFF
- WebP
- RAW формати (CR2, NEF, ARW, DNG, ORF, RW2, PEF)

### Відео формати
- MP4
- MOV
- AVI
- WMV
- FLV
- WebM
- MKV
- M4V
- 3GP
- MPG/MPEG

## Вимоги

- Python 3.6 або новіше
- Pillow (для роботи з EXIF)
- hachoir (для роботи з відео метаданими)

## Встановлення

1. Склонуйте репозиторій:
```bash
git clone https://github.com/your-username/google-photos-organizer.git
cd google-photos-organizer
```

2. Встановіть необхідні залежності:
```bash
pip install Pillow hachoir
```

## Використання

1. Помістіть скрипт `organize_photos.py` в папку з медіафайлами

2. Запустіть скрипт:
```bash
python organize_photos.py
```

За замовчуванням скрипт:
- Шукає медіафайли в поточній директорії
- Створює папку `___organized_media` для відсортованих файлів
- Сортує файли за структурою `рік/рік-місяць-день/`

### Алгоритм визначення дати

Скрипт використовує наступну пріоритетність для визначення дати створення:

Для фото:
1. EXIF дата створення
2. Дата з JSON метаданих Google Photos
3. Системна дата створення файлу
4. Системна дата модифікації файлу

Для відео:
1. Метадані відео (creation_date, record_date, тощо)
2. Дата з JSON метаданих Google Photos
3. Системна дата створення файлу
4. Системна дата модифікації файлу

## Вивід

Під час роботи скрипт показує:
- Які файли обробляються
- Джерело дати для кожного файлу
- Куди переміщується кожен файл

Після завершення показує статистику:
- Загальна кількість оброблених файлів
- Кількість файлів з JSON
- Кількість файлів без JSON
- Кількість фото
- Кількість відео
- Кількість помилок
- Кількість пропущених директорій

## Особливості

- Скрипт переміщує (а не копіює) файли
- JSON файли переміщуються разом з відповідними медіафайлами
- Цільова папка `___organized_media` пропускається при повторних запусках
- Зберігаються оригінальні імена файлів

## Обробка помилок

- Скрипт продовжує роботу при помилках з окремими файлами
- Показує детальні повідомлення про помилки
- Веде підрахунок помилок у статистиці

## Ліцензія

MIT

## Внесок

Pull requests вітаються. Для значних змін, будь ласка, спочатку відкрийте issue для обговорення пропонованих змін.
